# 塾内向け代講マッチングシステム

## プロジェクト概要
塾内における講師の代講調整を効率化するためのWebアプリケーションです。紙やチャットツールでの煩雑なやり取りを解消し、カレンダー形式で代講の依頼・引き受け状況を視覚的に把握できるようにします。

## 技術スタック
- **フロントエンド**: Next.js 15, React 19, TypeScript, FullCalendar.io
- **UI/UX**: Mantine UI, Tailwind CSS, Googleカレンダー風デザイン
- **認証**: NextAuth.js
- **データベース**: PostgreSQL, Prisma ORM
- **その他**: Git/GitHub

## 主な機能

### 📅 シフト管理機能
- **シフト作成**: 複数時間割・複数科目対応のシフト作成
- **シフト編集**: 既存シフトの時間割・科目・校舎変更
- **シフト削除**: 個別削除・期間指定一括削除
- **定期的なシフト作成**: 毎週特定曜日の自動シフト生成
- **カスタムテンプレート**: 科目・校舎・時間割のカスタマイズ

### 🔄 代講依頼機能
- **代講依頼作成**: シフトに基づく代講依頼
- **代講依頼管理**: 依頼の承認・拒否・ステータス管理
- **代講履歴**: 過去の代講実績の確認

### 🎨 UI/UX機能
- **Googleカレンダー風デザイン**: 直感的で使いやすいインターフェース
- **レスポンシブデザイン**: モバイル・デスクトップ対応
- **カスタム通知システム**: 成功・エラー・情報通知
- **リアルタイム更新**: データの自動同期

## 環境構築手順

### 前提条件
- Node.js 18+ および npm
- Git
- PostgreSQL 14+

### セットアップ手順

1. **依存関係のインストール**
   ```bash
   npm install
   ```

2. **環境変数の設定**
   ```bash
   cp env.example .env.local
   # .env.localファイルを編集してデータベース接続情報を設定
   ```

3. **データベースのセットアップ**
   ```bash
   # PostgreSQLに substitute_matching_db という名前のデータベースを作成
   createdb substitute_matching_db
   
   # Prismaマイグレーションの実行
   npm run db:push
   ```

4. **アプリケーションの起動**
   ```bash
   npm run dev
   ```

5. **アクセス**
   - アプリケーション: http://localhost:3000
   - ログインページ: http://localhost:3000/auth/signin

## プロジェクト構造
```
├── app/                    # Next.js アプリケーション
│   ├── api/               # API Routes
│   ├── auth/              # 認証ページ
│   └── globals.css        # グローバルスタイル
├── components/            # React コンポーネント
│   ├── ui/               # UI コンポーネント
│   └── calendar/         # カレンダー関連コンポーネント
├── lib/                  # ユーティリティ
│   ├── auth/            # 認証設定
│   └── db/              # データベース設定
├── prisma/              # データベーススキーマ
├── public/              # 静的ファイル
├── styles/              # SCSS Modules
├── docs/               # ドキュメント
└── README.md           # このファイル
```

## 実装済み機能の詳細

### 🎯 シフト作成機能
- **複数時間割選択**: 5限・6限・7限の複数選択対応
- **時間割ごとの科目選択**: 各時間割に異なる科目を設定可能
- **カスタム科目・校舎・時間割**: ユーザー独自のテンプレート作成・削除
- **5分刻み時間設定**: 正確な時間管理
- **定期的なシフト作成**: 開始日・終了日・曜日指定での一括作成
- **学期管理**: タイトル機能を学期管理に変更

### 🗑️ シフト削除機能
- **個別削除**: シフト編集画面からの削除
- **一括削除**: 期間・曜日指定でのまとめて削除
- **削除確認**: 安全な削除操作のための確認モーダル

### 🎨 デザイン・UI改善
- **Googleカレンダー風デザイン**: Material Design準拠のUI
- **カラーパレット**: Googleカレンダーと統一された色使い
- **イベント表示**: シフト・代講依頼の視覚的区別
- **レスポンシブ対応**: モバイル・タブレット・デスクトップ対応
- **アクセシビリティ**: 適切なコントラスト比とフォーカス状態

### 🔧 技術的改善
- **エラーハンドリング**: 包括的なエラーページとグローバルエラー処理
- **通知システム**: カスタム通知コンポーネント
- **型安全性**: TypeScriptによる厳密な型定義
- **パフォーマンス**: 効率的な状態管理とレンダリング

## 開発履歴

### 2025年10月 - 主要機能実装
- ✅ シフト作成・編集・削除機能の実装
- ✅ UIデザインの調整
- ✅ カスタムテンプレート機能の追加
- ✅ 定期的なシフト作成機能の実装
- ✅ 一括削除機能の実装
- ✅ エラーハンドリングの改善

## 今後の改善点
- 代講依頼が引き受けられた際のリアルタイム通知機能（WebSocket）
- 講師ごとの代講実績レポート機能
- モバイルアプリ対応（PWA）
- データエクスポート機能（CSV/PDF）
- 講師評価システム
